!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.loUtill=t():e.loUtill=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{filePathToNest:()=>i,routeAutoLink:()=>o});const n=e=>{if(!e)return!1;const t=e.replace(/^\.\//,"").split("/");if(1==t.length)return/\.vue$/.test(e);if(2==t.length){const[e,n]=t.slice(-2);return e.toLowerCase()+".vue"===n.toLowerCase()||"index.vue"===n.toLowerCase()}return!1};function o(e,t,o){if(!Array.isArray(t))throw Error("Should be Array fo LayoutComponents.");const i=e=>e.replace(/\/:[\S]+$/,""),l=e=>{const t=e.split("/");return t.length>1?t[t.length-2]:e.replace(/\.vue$/,"")},r=(e,t,n)=>{const o={path:e,component:t,name:t.split("/").join("_").replace(/\.vue$/,""),meta:{}};return n?(n.params&&(o.path+=(o.path?"/":"")+n.params),Object.assign(Object.assign({},n),o)):o};let s=[];return(e=e.map((e=>e.replace(/^\.\//,""))).filter((e=>n(e.split("/").slice(-2).join("/"))))).forEach((e=>{const c=e.split("/");let a=s;const p=c.length;for(;c.length;){const s=c[0],h=c.join("/"),d=a.find((({path:e})=>i(e)==`${s}`));if(d&&d.name){if(Array.isArray(d.children)){if(n(h)){d.children.push(r("",e,o[e]));break}}else{const s=d.name.split("_").join("/")+".vue";if(d.children=[r("",s,o[s])],d.path=i(d.path),!t[p-c.length])throw new Error(`Level ${p-c.length+1} LayoutComponents is not definded`);if(d.component=t[p-c.length],delete d.name,n(h)){a.push(r(l(h),e,o[e]));break}}a=d.children}else{if(n(h)){a.push(r(l(h),e,o[e]));break}if(!t[p-c.length])throw new Error(`Level ${p-c.length+1} LayoutComponents is not definded`);a.push({path:`${s}`,component:t[p-c.length],children:[]}),a=a[a.length-1].children||[]}c.shift()}})),s=s.map((e=>Object.assign(Object.assign({},e),{path:"/"+e.path}))),function e(t,n){return n||(n=s),n.map((n=>{let o=[];return n.children&&n.children.length>0&&(o=e(t,n.children)),Object.assign(Object.assign({},n),{children:o,component:"string"==typeof n.component?t(n.component):n.component})}))}}function i(e,t){var o,i,l,r,s,c,a,p,h;const d=e.filter((e=>n(e.split("/").slice(-2).join("/")))).map((e=>e.replace(/^\.\//,"").split("/"))),u=e=>1==e.length?e.map((e=>e.replace(/\.vue$/,""))):"index.vue"===e[e.length-1]||e[e.length-1].toLowerCase()===e[e.length-2].toLowerCase()+".vue"?e.slice(0,e.length-1):e;let f=-1;const g=new Map;for(;f++<d.length-1;){const e=d[f].join("/"),n=u(d[f]);if(n.length>1){g.get(n[0])||g.set(n[0],{path:n[0],title:null!==(l=null===(i=null===(o=t[e])||void 0===o?void 0:o.meta)||void 0===i?void 0:i.title)&&void 0!==l?l:n[0],children:[]});const a=n.slice(0,n.length-1).join("/");g.get(a)||g.set(a,{path:a,title:null!==(c=null===(s=null===(r=t[e])||void 0===r?void 0:r.meta)||void 0===s?void 0:s.title)&&void 0!==c?c:a.replace("/","_"),children:[]})}g.set(n.join("/"),{path:n.join("/"),title:null!==(h=null===(p=null===(a=t[e])||void 0===a?void 0:a.meta)||void 0===p?void 0:p.title)&&void 0!==h?h:n.join("_"),children:[]})}const m=[];for(const e of g.keys()){const t=u(e.split("/"));if(0==t.length)continue;const n=t.join("/"),o=g.get(n);if(o)if(1==t.length)m.push(o);else{const e=t.slice(0,t.length-1).join("/"),n=g.get(e);void 0!==n&&n.children.push(o)}}return m}return t})()));